environment:
  SAXON_CP: '%TEMP%\xspec\saxon\saxon9he.jar'
  matrix:
    # latest Saxon 9.7 version
    - SAXON_VERSION: 9.7.0-15
    # latest Saxon 9.6 version
    - SAXON_VERSION: 9.6.0-10
    # Saxon version used in oXygen
    - SAXON_VERSION: 9.6.0-7

install:
- ps: >-
    $saxon_home = Split-Path -Path "${env:SAXON_CP}" -Parent

    mkdir -Path $saxon_home

    Invoke-WebRequest -Uri "http://central.maven.org/maven2/net/sf/saxon/Saxon-HE/${env:SAXON_VERSION}/Saxon-HE-${env:SAXON_VERSION}.jar" -OutFile "${env:SAXON_CP}"
build: off
test_script:
- cmd: >-
    rem Print Java version

    java -version


    rem Print Saxon version

    java -cp "%SAXON_CP%" net.sf.saxon.Transform 2>&1 | find /i "saxon-"


    rem execute xspec.bat unit tests

    test\xspec-bat.cmd


    rem execute XSpec unit tests

    test\run-xspec-tests.cmd
deploy: off
