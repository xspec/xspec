os: linux
language: java
dist: trusty

jdk:
  - oraclejdk8
  - openjdk11

env:
  jobs:
    # saxon-9-8 is not included in favor of GitHub Actions
    - XSPEC_TEST_ENV=saxon-10
    - XSPEC_TEST_ENV=saxon-9-9
    - XSPEC_TEST_ENV=oxygen

script: >
  source test/ci/install-deps.sh
  && test/ci/print-env.sh
  && test/ci/run-core-tests.sh
  && test/ci/maven-package.sh -q
  && test/ci/compile-java.sh -silent
  && test/ci/last-git-status.sh
