<?xml version="1.0" encoding="UTF-8"?>
<x:description query="x-urn:test:param-position" query-at="param-position.xqm"
	stylesheet="param-position.xsl" xmlns:param-position="x-urn:test:param-position"
	xmlns:x="http://www.jenitennison.com/xslt/xspec">

	<x:scenario label="When all instances of function-param have @position in ascending order">
		<x:call function="param-position:join">
			<x:param position="1" select="'a'" />
			<x:param position="2" select="'b'" />
			<x:param position="3" select="'c'" />
			<x:param position="4" select="'d'" />
		</x:call>
		<x:expect label="The parameters are picked up in @position order" select="'abcd'" />
	</x:scenario>

	<x:scenario label="When all instances of function-param have @position in descending order">
		<x:call function="param-position:join">
			<x:param position="4" select="'d'" />
			<x:param position="3" select="'c'" />
			<x:param position="2" select="'b'" />
			<x:param position="1" select="'a'" />
		</x:call>
		<x:expect label="The parameters are picked up in @position order" select="'abcd'" />
	</x:scenario>

	<x:scenario label="When all instances of function-param have the same @position">
		<x:call function="param-position:join">
			<x:param position="1" select="'a'" />
			<x:param position="1" select="'b'" />
			<x:param position="1" select="'c'" />
			<x:param position="1" select="'d'" />
		</x:call>
		<x:expect label="The parameters are picked up in document order" select="'abcd'" />
	</x:scenario>

	<x:scenario label="When instances of function-param with or without @position are interleaved">
		<x:call function="param-position:join">
			<x:param position="2" select="'d'" />
			<x:param select="'a'" />
			<x:param position="1" select="'c'" />
			<x:param select="'b'" />
		</x:call>
		<x:expect
			label="The parameters without @position are picked up in document order, followed by the ones with @position in @position order"
			select="'abcd'" />
	</x:scenario>

</x:description>
