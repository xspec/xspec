<?xml version="1.0" encoding="UTF-8"?>
<x:description stylesheet="../../do-nothing.xsl" xmlns:x="http://www.jenitennison.com/xslt/xspec"
	xslt-version="3.0">

	<x:scenario label="Function (xspec/xspec#355)">
		<!-- function-lookup() requires Saxon-PE or EE. So use a map. -->
		<x:call function="exactly-one">
			<x:param as="map(*)" select="map { 'foo': 1 }" />
		</x:call>
		<x:expect label="[Result] should be reported" />
	</x:scenario>

	<x:scenario label="Element, attribute (xspec/xspec#357)">
		<x:call function="one-or-more">
			<x:param select="elem1 | elem2/attribute()">
				<elem1>text</elem1>
				<elem2 attr="attr-val" />
			</x:param>
		</x:call>
		<x:expect label="@attr should be reported as an attribute" />
	</x:scenario>

	<x:scenario label="Attributes of the same name (xspec/xspec#358)">
		<x:call function="one-or-more">
			<x:param select="element()/attribute()">
				<elem1 attr="foo" />
				<elem2 attr="bar" />
			</x:param>
		</x:call>
		<x:expect label="Both @attr=foo and @attr=bar should be reported" />
	</x:scenario>

	<x:scenario label="Attribute, element, attribute (xspec/xspec#360)">
		<x:call function="one-or-more">
			<x:param select="element()/attribute() | elem2">
				<elem1 attr1="attr1-val" />
				<elem2>text</elem2>
				<elem3 attr3="attr3-val" />
			</x:param>
		</x:call>
		<x:expect label="[Result] should be reported" />
	</x:scenario>

</x:description>
