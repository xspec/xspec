<?xml version="1.0" encoding="UTF-8"?>
<!--
	Verify that /x:description/@result-file-threshold is ignored on XProc.
-->
<x:description result-file-threshold="1" xproc="../../xproc/cases/library-mirror.xpl"
	xmlns:mirror="x-urn:test:mirror"
	xmlns:x="http://www.jenitennison.com/xslt/xspec">
	<x:scenario label="Test how the actual result and the expected result are saved">
		<x:call step="mirror:identity">
			<x:input port="source">
				<actual-result />
			</x:input>
		</x:call>

		<x:expect label="when the actual result is evaluated without @test">
			<expected-result />
		</x:expect>
		<x:expect label="when the actual result is evaluated with @test" test="$x:result">
			<expected-result />
		</x:expect>

		<x:expect label="when the expected result is an empty sequence" select="()" />
		<x:expect label="when the expected result is an atomic value" select="0" />
		<x:expect label="when the expected result is a map" select="map{}" />
	</x:scenario>

</x:description>
